// 백준 14502 : 연구소 (완전탐색 + DFS)
#include <vector>
#include <string>
#include <queue>
#include <iostream>

using namespace std;

int N, M;
int map[8][8];
int answer = 0;

int dx[4] = { 1, -1, 0, 0 };
int dy[4] = { 0, 0, 1, -1 };

// 벽 3개가 모두 세워진후 결과를 보는 함수 (최댓값 비교 포함)
void checkResult() {
	int safetyArea = 0;
	int tmp[8][8];
	queue<pair<int, int>> q;

	for (int i = 0; i < N; i++) {
		for (int j = 0; j < M; j++) {
			tmp[i][j] = map[i][j];
			if (tmp[i][j] == 2) q.push({ j, i }); // {x, y}
		}
	}

	// 바이러스 전파
	while (!q.empty()) {
		int x = q.front().first;
		int y = q.front().second;
		q.pop();

		for (int i = 0; i < 4; i++) {
			int nxtX = x + dx[i];
			int nxtY = y + dy[i];

			if (0 <= nxtX && nxtX < M && 0 <= nxtY && nxtY < N) {
				if (tmp[nxtY][nxtX] == 0) {
					tmp[nxtY][nxtX] = 2;
					q.push({ nxtX , nxtY });
				}
			}
		}
	}

	// 결과를 확인 (안전 영역의 크기를 구함)
	for (int i = 0; i < N; i++) {
		for (int j = 0; j < M; j++) {
			if (tmp[i][j] == 0) safetyArea++;
		}
	}

	// 안전 영역 크기 비교
	answer = answer < safetyArea ? safetyArea : answer;
}

// 벽을 세우는 함수
void putUpWall(int cnt) {
	if (cnt == 3) {
		checkResult();
		return;
	}

	for (int i = 0; i < N; i++) {
		for (int j = 0; j < M; j++) {
			if (map[i][j] == 0) {
				map[i][j] = 1; // 벽을 세운다. 
				putUpWall(cnt + 1); 
				map[i][j] = 0; // 다시 허문다.
			}
		}
	}
}

int main() {
	cin >> N >> M;
	for (int i = 0; i < N; i++) {
		for (int j = 0; j < M; j++) {
			cin >> map[i][j];
		}
	}

	// 벽을 세우고 결과를 비교한다.
	for (int i = 0; i < N; i++) {
		for (int j = 0; j < M; j++) {
			if (map[i][j] == 0) {
				map[i][j] = 1; // 벽을 세운다. 
				putUpWall(1); 
				map[i][j] = 0; // 다시 허문다.
			}
		}
	}

	cout << answer << '\n'; // 답안 출력
}