// 백준 14940 : 쉬운 최단거리
#include <iostream>
#include <string>
#include <vector>
#include <queue>

using namespace std;

int n, m; // 세로 n, 가로 m;
int map[1000][1000];
queue<vector<int>> q;
bool chk[1000][1000];
int dx[4] = { 0, 0, 1, -1 };
int dy[4] = { 1, -1, 0, 0 };
int ans[1000][1000];

int main() {
	cin >> n >> m;
	for (int i = 0; i < n; i++) {
		for (int j = 0; j < m; j++) {
			cin >> map[i][j];

			if (map[i][j] == 2) {
				q.push({ i, j, 0}); // {y, x, depth}
				chk[i][j] = true;
			}
		}
	}

	while (!q.empty()) {
		int y = q.front()[0];
		int x = q.front()[1];
		int depth = q.front()[2];
		ans[y][x] = depth;
		q.pop();

		for (int i = 0; i < 4; i++) {
			int nxtY = y + dy[i];
			int nxtX = x + dx[i];

			if (0 <= nxtY && nxtY < n && 0 <= nxtX && nxtX < m) {
				if (map[nxtY][nxtX] != 0 && !chk[nxtY][nxtX]) {
					q.push({ nxtY, nxtX, depth + 1 });
					chk[nxtY][nxtX] = true;
				}
			}
		}
	}

	for (int i = 0; i < n; i++) {
		for (int j = 0; j < m; j++) {
			if (map[i][j] == 1 && !chk[i][j]) cout << -1 << ' ';
			else cout << ans[i][j] << ' ';
		}
		cout << '\n';
	}
}